
# Korp MySQL database table information for relations tables


# Definitions of variables referenced in "definitions" as "{var}"
- definition_vars:
    # Type of field `rel`
    rel_type: |
      enum('SS','OBJ','ADV','AT','ET','PA','APP','AUX','CPL','CPR','CRD','MOD','OTH','OWN','VPT') NOT NULL DEFAULT 'SS'


- tablename: relations_{CORPUS}
  filenames:
  - 'relations/{corpus}([_:+]relations)?'
  - '{corpus}/relations'
  exclude_filenames:
  - '.*_(strings|rel|head_rel|dep_rel|sentences)'
  definition: |
    `id` int UNIQUE NOT NULL,
    `head` int NOT NULL,
    `rel` {rel_type},
    `dep` int NOT NULL,
    `freq` int NOT NULL,
    `bfhead` bool NOT NULL,
    `bfdep` bool NOT NULL,
    `wfhead` bool NOT NULL,
    `wfdep` bool NOT NULL,
    PRIMARY KEY (`head`,`wfhead`,`dep`,`rel`,`freq`,`id`),
    KEY `dep-wfdep-head-rel-freq-id` (`dep`,`wfdep`,`head`,`rel`,`freq`,`id`),
    KEY `head-dep-bfhead-bfdep-rel-freq-id` (`head`,`dep`,`bfhead`,`bfdep`,`rel`,`freq`,`id`),
    KEY `dep-head-bfhead-bfdep-rel-freq-id` (`dep`,`head`,`bfhead`,`bfdep`,`rel`,`freq`,`id`)

- tablename: relations_{CORPUS}_strings
  filenames:
  - 'relations/{corpus}([_:+]relations)?_strings'
  - '{corpus}/relations_strings'
  definition: |
    `id` int UNIQUE NOT NULL,
    `string` varchar(100) NOT NULL,
    `stringextra` varchar(32) DEFAULT NULL,
    `pos` varchar(5) DEFAULT NULL,
    PRIMARY KEY (`string`,`id`,`pos`,`stringextra`),
    KEY `id-string-pos-stringextra` (`id`,`string`,`pos`,`stringextra`)

- tablename: relations_{CORPUS}_rel
  filenames:
  - 'relations/{corpus}([_:+]relations)?_rel'
  - '{corpus}/relations_rel'
  exclude_filenames:
  - .*_(head|dep)_rel
  definition: |
    `rel` {rel_type},
    `freq` int NOT NULL,
    PRIMARY KEY (`rel`,`freq`)

- tablename: relations_{CORPUS}_head_rel
  filenames:
  - 'relations/{corpus}([_:+]relations)?_head_rel'
  - '{corpus}/relations_head_rel'
  definition: |
    `head` int NOT NULL,
    `rel` {rel_type},
    `freq` int NOT NULL,
    PRIMARY KEY (`head`,`rel`,`freq`)

- tablename: relations_{CORPUS}_dep_rel
  filenames:
  - 'relations/{corpus}([_:+]relations)?_dep_rel'
  - '{corpus}/relations_dep_rel'
  definition: |
    `dep` int NOT NULL,
    `rel` {rel_type},
    `freq` int NOT NULL,
    PRIMARY KEY (`dep`,`rel`,`freq`)

- tablename: relations_{CORPUS}_sentences
  filenames:
  - 'relations/{corpus}([_:+]relations)?_sentences'
  - '{corpus}/relations_sentences'
  definition: |
    `id` int NOT NULL,
    `sentence` varchar(64) NOT NULL,
    `start` int NOT NULL,
    `end` int NOT NULL,
    KEY `id` (`id`)
